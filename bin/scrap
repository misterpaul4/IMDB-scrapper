#!/usr/bin/env ruby
require_relative '../lib/site_obj.rb'
def popular_mv_scrap
  link = SiteObj.new("https://www.imdb.com/chart/moviemeter/?ref_=nv_mv_mpm")
  titles = link.selector(".lister .titleColumn a")
  ratings = link.selector(".lister .imdbRating")
  release_dates = link.selector(".lister .titleColumn span")

  [titles, ratings, release_dates]
end

def store_data
  dict = {}
  index = 0
  movie_titles = popular_mv_scrap[0]
  movie_ratings = popular_mv_scrap[1]
  movie_release_dates = popular_mv_scrap[2]
  movie_titles.each do |movie|
    dict[index] = [movie.text, movie_ratings[index].text.strip]
    index+=1
  end
  dict # hash container index as keys, movie title, ratings and year as values
end
